{"ast":null,"code":"var _jsxFileName = \"/Users/likhithasapu/Desktop/IIIT-H/Computers/Intern/frontend/src/FormFolder/form.js\";\nimport * as React from 'react';\nimport Stack from '@mui/material/Stack';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Paper from '@mui/material/Paper';\nimport { storage, database, app } from './firebaseConfig';\nimport { getDownloadURL, ref, uploadBytesResumable } from '@firebase/storage';\nimport Typography from '@mui/material/Typography';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Box from '@mui/material/Box';\nimport { collection, addDoc } from '@firebase/firestore';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nexport default function BasicButtons() {\n  const [progress, setProgress] = React.useState(0);\n  const [name, setName] = React.useState(\"\");\n  const [number, setNumber] = React.useState(\"\");\n  const [address, setAddress] = React.useState(\"\");\n  const [gender, setGender] = React.useState(\"\");\n  const [imgurl, setUrl] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [uploadopen, setUploadopen] = React.useState(false);\n  const [nameerr, setNameerr] = React.useState(false);\n  const [numbererr, setNumbererr] = React.useState(false);\n  const [addresserr, setAddresserr] = React.useState(false);\n  const [gendererr, setGendererr] = React.useState(false);\n  const [erropen, setErropen] = React.useState(false);\n  const collectionRef = collection(database, 'userinfo');\n\n  const uploadFile = file => {\n    if (!file) return;\n    const storageRef = ref(storage, `/files/${file.name}`);\n    const imageUpload = uploadBytesResumable(storageRef, file);\n    imageUpload.on(\"state_changed\", snapshot => {\n      const eventprogress = parseInt(snapshot.bytesTransferred * 100 / snapshot.totalBytes);\n      setProgress(eventprogress);\n    }, err => {\n      console.log(err);\n      alert(err.message);\n    }, () => {\n      getDownloadURL(imageUpload.snapshot.ref).then(url => {\n        console.log(url);\n        setUrl(url);\n        setUploadopen(true);\n      });\n    });\n  };\n\n  const handleUpload = e => {\n    setUrl(\"\");\n    setProgress(0);\n    e.preventDefault();\n    const file = e.target[0].files[0];\n    console.log(file);\n    uploadFile(file);\n  };\n\n  const handleSubmit = () => {\n    if (name.trim().length >= 3 && number.length === 10 && address.trim().length >= 10 && gender !== \"\" && imgurl !== \"\") {\n      addDoc(collectionRef, {\n        name: name,\n        gender: gender,\n        url: imgurl,\n        number: number,\n        address: address\n      }).then(() => {\n        setOpen(true);\n        setName(\"\");\n        setNumber(\"\");\n        setGender(\"\");\n        setAddress(\"\");\n      }).catch(err => {\n        alert(err.message);\n      });\n    } else {\n      if (name.trim().length < 3) {\n        setNameerr(true);\n      }\n\n      if (number.length !== 10) {\n        setNumbererr(true);\n      }\n\n      if (address.trim().length < 10) {\n        setAddresserr(true);\n      }\n\n      if (gender === \"\") {\n        setGendererr(true);\n      }\n\n      setErropen(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: 'rgba(0, 100, 100, 0.1)'\n    },\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 0,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 8,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 8,\n    style: {\n      marginTop: '5vh',\n      marginBottom: '5vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: 'rgb(2, 91, 150)',\n      textAlign: 'center',\n      padding: '10vh',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 24\n    }\n  }, \"User Form\")), /*#__PURE__*/React.createElement(Stack, {\n    spacing: 5,\n    direction: \"column\",\n    padding: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    label: \"Name\",\n    defaultValue: \"\",\n    inputProps: {\n      style: {}\n    },\n    value: name,\n    onChange: e => {\n      setName(e.target.value);\n      setNameerr(false);\n    },\n    helperText: \"Min. 3 characters\",\n    error: nameerr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    label: \"Number\",\n    defaultValue: \"\",\n    type: \"number\",\n    value: number,\n    onChange: e => {\n      setNumber(e.target.value);\n      setNumbererr(false);\n    },\n    helperText: \"10 digit number\",\n    error: numbererr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"demo-simple-select-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(Select, {\n    label: \"Gender\",\n    value: gender,\n    onChange: e => {\n      setGender(e.target.value);\n      setGendererr(false);\n    },\n    error: gendererr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, \"Male\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  }, \"Female\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, \"Other\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"Prefer not to say\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  }, \"Prefer not to say\"))), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    label: \"Address\",\n    multiline: true,\n    rows: 4,\n    defaultValue: \"\",\n    variant: \"outlined\",\n    value: address,\n    onChange: e => {\n      setAddress(e.target.value);\n      setAddresserr(false);\n    },\n    helperText: \"Min. 10 characters\",\n    error: addresserr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    type: \"file\",\n    onClick: () => {\n      setUrl(\"\");\n      setProgress(0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    size: \"small\",\n    variant: \"contained\",\n    style: {\n      backgroundColor: 'rgb(2, 91, 150)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, \"Upload\")), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      alignItems: 'center',\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      width: '90%',\n      mr: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(LinearProgress, {\n    variant: \"determinate\",\n    value: progress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      minWidth: 35\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"text.secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }, progress, \" %\"))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    justifyContent: \"center\",\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    style: {\n      backgroundColor: 'rgb(2, 91, 150)',\n      fontSize: \"20px\",\n      minWidth: \"40vh\"\n    },\n    size: \"large\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 73\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: 'rgb(255, 255, 255)',\n      padding: '1vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 0,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Snackbar, {\n    open: open,\n    autoHideDuration: 4000,\n    onClose: () => setOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MuiAlert, {\n    onClose: () => setOpen(false),\n    elevation: 6,\n    variant: \"filled\",\n    severity: \"success\",\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, \"Data added successfully\")), /*#__PURE__*/React.createElement(Snackbar, {\n    open: uploadopen,\n    autoHideDuration: 4000,\n    onClose: () => setUploadopen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MuiAlert, {\n    onClose: () => setUploadopen(false),\n    elevation: 6,\n    variant: \"filled\",\n    severity: \"success\",\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, \"Image Uploaded to Cloud\")), /*#__PURE__*/React.createElement(Snackbar, {\n    open: erropen,\n    autoHideDuration: 4000,\n    onClose: () => setErropen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MuiAlert, {\n    onClose: () => setErropen(false),\n    elevation: 6,\n    variant: \"filled\",\n    severity: \"error\",\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, \"Fill all details / Upload Image\")));\n}","map":{"version":3,"sources":["/Users/likhithasapu/Desktop/IIIT-H/Computers/Intern/frontend/src/FormFolder/form.js"],"names":["React","Stack","Grid","Button","TextField","Paper","storage","database","app","getDownloadURL","ref","uploadBytesResumable","Typography","LinearProgress","InputLabel","MenuItem","FormControl","Select","Box","collection","addDoc","Snackbar","MuiAlert","BasicButtons","progress","setProgress","useState","name","setName","number","setNumber","address","setAddress","gender","setGender","imgurl","setUrl","open","setOpen","uploadopen","setUploadopen","nameerr","setNameerr","numbererr","setNumbererr","addresserr","setAddresserr","gendererr","setGendererr","erropen","setErropen","collectionRef","uploadFile","file","storageRef","imageUpload","on","snapshot","eventprogress","parseInt","bytesTransferred","totalBytes","err","console","log","alert","message","then","url","handleUpload","e","preventDefault","target","files","handleSubmit","trim","length","catch","minHeight","backgroundColor","marginTop","marginBottom","textAlign","padding","color","style","value","alignItems","display","width","mr","minWidth","fontSize"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,OAAT,EAAkBC,QAAlB,EAA4BC,GAA5B,QAAuC,kBAAvC;AACA,SAASC,cAAT,EAAyBC,GAAzB,EAA8BC,oBAA9B,QAA0D,mBAA1D;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,qBAAnC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,eAAe,SAASC,YAAT,GAAwB;AACnC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BzB,KAAK,CAAC0B,QAAN,CAAe,CAAf,CAAhC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB5B,KAAK,CAAC0B,QAAN,CAAe,EAAf,CAAxB;AACA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsB9B,KAAK,CAAC0B,QAAN,CAAe,EAAf,CAA5B;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBhC,KAAK,CAAC0B,QAAN,CAAe,EAAf,CAA9B;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBlC,KAAK,CAAC0B,QAAN,CAAe,EAAf,CAA5B;AACA,QAAM,CAACS,MAAD,EAASC,MAAT,IAAmBpC,KAAK,CAAC0B,QAAN,CAAe,EAAf,CAAzB;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBtC,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAAxB;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8BxC,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAApC;AAEA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwB1C,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAA9B;AACA,QAAM,CAACiB,SAAD,EAAYC,YAAZ,IAA4B5C,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8B9C,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAApC;AACA,QAAM,CAACqB,SAAD,EAAYC,YAAZ,IAA4BhD,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAyBlD,KAAK,CAAC0B,QAAN,CAAe,KAAf,CAA/B;AACA,QAAMyB,aAAa,GAAGhC,UAAU,CAACZ,QAAD,EAAW,UAAX,CAAhC;;AACA,QAAM6C,UAAU,GAAIC,IAAD,IAAU;AACzB,QAAI,CAACA,IAAL,EACI;AAGJ,UAAMC,UAAU,GAAG5C,GAAG,CAACJ,OAAD,EAAW,UAAS+C,IAAI,CAAC1B,IAAK,EAA9B,CAAtB;AACA,UAAM4B,WAAW,GAAG5C,oBAAoB,CAAC2C,UAAD,EAAaD,IAAb,CAAxC;AAEAE,IAAAA,WAAW,CAACC,EAAZ,CAAe,eAAf,EAAiCC,QAAD,IAAc;AAC1C,YAAMC,aAAa,GAAGC,QAAQ,CAACF,QAAQ,CAACG,gBAAT,GAA4B,GAA5B,GAAkCH,QAAQ,CAACI,UAA5C,CAA9B;AACApC,MAAAA,WAAW,CAACiC,aAAD,CAAX;AACH,KAHD,EAGII,GAAD,IAAS;AAAEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkBG,MAAAA,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;AAAoB,KAHpD,EAII,MAAM;AACFzD,MAAAA,cAAc,CAAC8C,WAAW,CAACE,QAAZ,CAAqB/C,GAAtB,CAAd,CAAyCyD,IAAzC,CAA8CC,GAAG,IAAI;AAAEL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AAAkBhC,QAAAA,MAAM,CAACgC,GAAD,CAAN;AAAa5B,QAAAA,aAAa,CAAC,IAAD,CAAb;AAAsB,OAA5G;AAEH,KAPL;AAQH,GAhBD;;AAkBA,QAAM6B,YAAY,GAAIC,CAAD,IAAO;AACxBlC,IAAAA,MAAM,CAAC,EAAD,CAAN;AACAX,IAAAA,WAAW,CAAC,CAAD,CAAX;AACA6C,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMlB,IAAI,GAAGiB,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkB,CAAlB,CAAb;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AACAD,IAAAA,UAAU,CAACC,IAAD,CAAV;AACH,GAPD;;AASA,QAAMqB,YAAY,GAAG,MAAM;AAEvB,QAAI/C,IAAI,CAACgD,IAAL,GAAYC,MAAZ,IAAsB,CAAtB,IAA2B/C,MAAM,CAAC+C,MAAP,KAAkB,EAA7C,IAAmD7C,OAAO,CAAC4C,IAAR,GAAeC,MAAf,IAAyB,EAA5E,IAAkF3C,MAAM,KAAK,EAA7F,IAAmGE,MAAM,KAAK,EAAlH,EAAsH;AAElHf,MAAAA,MAAM,CAAC+B,aAAD,EAAgB;AAClBxB,QAAAA,IAAI,EAAEA,IADY;AAElBM,QAAAA,MAAM,EAAEA,MAFU;AAGlBmC,QAAAA,GAAG,EAAEjC,MAHa;AAIlBN,QAAAA,MAAM,EAAEA,MAJU;AAKlBE,QAAAA,OAAO,EAAEA;AALS,OAAhB,CAAN,CAMGoC,IANH,CAMQ,MAAM;AAEV7B,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAV,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAE,QAAAA,SAAS,CAAC,EAAD,CAAT;AACAI,QAAAA,SAAS,CAAC,EAAD,CAAT;AACAF,QAAAA,UAAU,CAAC,EAAD,CAAV;AAEH,OAdD,EAcG6C,KAdH,CAcUf,GAAD,IAAS;AACdG,QAAAA,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;AACH,OAhBD;AAiBH,KAnBD,MAoBK;AACD,UAAIvC,IAAI,CAACgD,IAAL,GAAYC,MAAZ,GAAqB,CAAzB,EAA4B;AACxBlC,QAAAA,UAAU,CAAC,IAAD,CAAV;AACH;;AACD,UAAIb,MAAM,CAAC+C,MAAP,KAAkB,EAAtB,EAA0B;AACtBhC,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;;AAED,UAAIb,OAAO,CAAC4C,IAAR,GAAeC,MAAf,GAAwB,EAA5B,EAAgC;AAC5B9B,QAAAA,aAAa,CAAC,IAAD,CAAb;AACH;;AACD,UAAIb,MAAM,KAAK,EAAf,EAAmB;AACfe,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;;AACDE,MAAAA,UAAU,CAAC,IAAD,CAAV;AAEH;AAEJ,GAxCD;;AA0CA,sBAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AACT4B,MAAAA,SAAS,EAAE,OADF;AAETC,MAAAA,eAAe,EAAE;AAFR,KAAb;AAII,IAAA,SAAS,MAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,CAAV;AAAa,IAAA,EAAE,EAAE,CAAjB;AAAoB,IAAA,IAAI,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAMI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,EAAV;AAAc,IAAA,EAAE,EAAE,CAAlB;AAAqB,IAAA,IAAI,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE,CAAlB;AAAqB,IAAA,KAAK,EAAE;AACxBC,MAAAA,SAAS,EAAE,KADa;AAExBC,MAAAA,YAAY,EAAE;AAFU,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AAAK,IAAA,KAAK,EAAE;AACRF,MAAAA,eAAe,EAAE,iBADT;AAERG,MAAAA,SAAS,EAAE,QAFH;AAGRC,MAAAA,OAAO,EAAE,MAHD;AAIRC,MAAAA,KAAK,EAAE;AAJC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKG,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALH,CAJJ,eAYI,oBAAC,KAAD;AAAO,IAAA,OAAO,EAAE,CAAhB;AAAmB,IAAA,SAAS,EAAC,QAA7B;AAAsC,IAAA,OAAO,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,QAAQ,MADZ;AAEI,IAAA,KAAK,EAAC,MAFV;AAGI,IAAA,YAAY,EAAC,EAHjB;AAII,IAAA,UAAU,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAJhB;AAKI,IAAA,KAAK,EAAE1D,IALX;AAMI,IAAA,QAAQ,EAAG2C,CAAD,IAAO;AAAE1C,MAAAA,OAAO,CAAC0C,CAAC,CAACE,MAAF,CAASc,KAAV,CAAP;AAAyB5C,MAAAA,UAAU,CAAC,KAAD,CAAV;AAAmB,KANnE;AAOI,IAAA,UAAU,EAAC,mBAPf;AAQI,IAAA,KAAK,EAAED,OARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAWI,oBAAC,SAAD;AACI,IAAA,QAAQ,MADZ;AAEI,IAAA,KAAK,EAAC,QAFV;AAGI,IAAA,YAAY,EAAC,EAHjB;AAII,IAAA,IAAI,EAAC,QAJT;AAKI,IAAA,KAAK,EAAEZ,MALX;AAMI,IAAA,QAAQ,EAAGyC,CAAD,IAAO;AAAExC,MAAAA,SAAS,CAACwC,CAAC,CAACE,MAAF,CAASc,KAAV,CAAT;AAA2B1C,MAAAA,YAAY,CAAE,KAAF,CAAZ;AAAuB,KANzE;AAOI,IAAA,UAAU,EAAC,iBAPf;AAQI,IAAA,KAAK,EAAED,SARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,eAsBI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,KAAK,EAAEV,MAFX;AAGI,IAAA,QAAQ,EAAGqC,CAAD,IAAO;AAAEpC,MAAAA,SAAS,CAACoC,CAAC,CAACE,MAAF,CAASc,KAAV,CAAT;AAA2BtC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAAqB,KAHvE;AAII,IAAA,KAAK,EAAED,SAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ,eAOI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARJ,eASI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATJ,CAFJ,CAtBJ,eAqCI,oBAAC,SAAD;AACI,IAAA,QAAQ,MADZ;AAEI,IAAA,KAAK,EAAC,SAFV;AAGI,IAAA,SAAS,MAHb;AAII,IAAA,IAAI,EAAE,CAJV;AAKI,IAAA,YAAY,EAAC,EALjB;AAMI,IAAA,OAAO,EAAC,UANZ;AAOI,IAAA,KAAK,EAAEhB,OAPX;AAQI,IAAA,QAAQ,EAAGuC,CAAD,IAAO;AAAEtC,MAAAA,UAAU,CAACsC,CAAC,CAACE,MAAF,CAASc,KAAV,CAAV;AAA4BxC,MAAAA,aAAa,CAAC,KAAD,CAAb;AAAsB,KARzE;AASI,IAAA,UAAU,EAAC,oBATf;AAUI,IAAA,KAAK,EAAED,UAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCJ,eAiDI;AAAM,IAAA,QAAQ,EAAEwB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,MAAM,EAAC,SAAd;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAoC,IAAA,OAAO,EAAE,MAAM;AAC/CjC,MAAAA,MAAM,CAAC,EAAD,CAAN;AACAX,MAAAA,WAAW,CAAC,CAAD,CAAX;AACH,KAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAKI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,IAAI,EAAC,OAA3B;AAAmC,IAAA,OAAO,EAAC,WAA3C;AAAuD,IAAA,KAAK,EAAE;AAC9DsD,MAAAA,eAAe,EAAE;AAD6C,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CAjDJ,eA4DI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEQ,MAAAA,UAAU,EAAE,QAAd;AAAwBC,MAAAA,OAAO,EAAE;AAAjC,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEC,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,EAAE,EAAE;AAApB,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AAAgB,IAAA,OAAO,EAAC,aAAxB;AAAsC,IAAA,KAAK,EAAElE,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEmE,MAAAA,QAAQ,EAAE;AAAZ,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,gBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoDnE,QAApD,OADJ,CAJJ,CA5DJ,eAoEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,EAAV;AAAc,IAAA,cAAc,EAAC,QAA7B;AAAsC,IAAA,SAAS,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgD,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,WAA9B;AAA0C,IAAA,KAAK,EAAE;AAC7FuD,MAAAA,eAAe,EAAE,iBAD4E;AACzDa,MAAAA,QAAQ,EAAE,MAD+C;AACvCD,MAAAA,QAAQ,EAAE;AAD6B,KAAjD;AAE7C,IAAA,IAAI,EAAC,OAFwC;AAEhC,IAAA,OAAO,EAAEjB,YAFuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhD,CApEJ,CAZJ,eAsFI;AAAK,IAAA,KAAK,EAAE;AACRK,MAAAA,eAAe,EAAE,oBADT;AAERI,MAAAA,OAAO,EAAE;AAFD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtFJ,CADJ,CANJ,eAoGI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,CAAV;AAAa,IAAA,EAAE,EAAE,CAAjB;AAAoB,IAAA,IAAI,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApGJ,eAqGI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAE9C,IAAhB;AAAsB,IAAA,gBAAgB,EAAE,IAAxC;AAA8C,IAAA,OAAO,EAAE,MAAMC,OAAO,CAAC,KAAD,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAE,MAAMA,OAAO,CAAC,KAAD,CAAhC;AAAyC,IAAA,SAAS,EAAE,CAApD;AAAuD,IAAA,OAAO,EAAC,QAA/D;AAAwE,IAAA,QAAQ,EAAC,SAAjF;AAA2F,IAAA,EAAE,EAAE;AAAEmD,MAAAA,KAAK,EAAE;AAAT,KAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,CArGJ,eA2GI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAElD,UAAhB;AAA4B,IAAA,gBAAgB,EAAE,IAA9C;AAAoD,IAAA,OAAO,EAAE,MAAMC,aAAa,CAAC,KAAD,CAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAE,MAAMA,aAAa,CAAC,KAAD,CAAtC;AAA+C,IAAA,SAAS,EAAE,CAA1D;AAA6D,IAAA,OAAO,EAAC,QAArE;AAA8E,IAAA,QAAQ,EAAC,SAAvF;AAAiG,IAAA,EAAE,EAAE;AAAEiD,MAAAA,KAAK,EAAE;AAAT,KAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,CA3GJ,eAiHI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAExC,OAAhB;AAAyB,IAAA,gBAAgB,EAAE,IAA3C;AAAiD,IAAA,OAAO,EAAE,MAAMC,UAAU,CAAC,KAAD,CAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAE,MAAMA,UAAU,CAAC,KAAD,CAAnC;AAA4C,IAAA,SAAS,EAAE,CAAvD;AAA0D,IAAA,OAAO,EAAC,QAAlE;AAA2E,IAAA,QAAQ,EAAC,OAApF;AAA4F,IAAA,EAAE,EAAE;AAAEuC,MAAAA,KAAK,EAAE;AAAT,KAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,CAjHJ,CAFJ;AA0HH","sourcesContent":["import * as React from 'react';\nimport Stack from '@mui/material/Stack';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Paper from '@mui/material/Paper';\nimport { storage, database, app } from './firebaseConfig';\nimport { getDownloadURL, ref, uploadBytesResumable } from '@firebase/storage'\nimport Typography from '@mui/material/Typography';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport Box from '@mui/material/Box';\nimport { collection, addDoc } from '@firebase/firestore';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nexport default function BasicButtons() {\n    const [progress, setProgress] = React.useState(0);\n    const [name, setName] = React.useState(\"\");\n    const [number, setNumber] = React.useState(\"\");\n    const [address, setAddress] = React.useState(\"\");\n    const [gender, setGender] = React.useState(\"\");\n    const [imgurl, setUrl] = React.useState(\"\");\n    const [open, setOpen] = React.useState(false);\n    const [uploadopen, setUploadopen] = React.useState(false);\n\n    const [nameerr, setNameerr] = React.useState(false);\n    const [numbererr, setNumbererr] = React.useState(false);\n    const [addresserr, setAddresserr] = React.useState(false);\n    const [gendererr, setGendererr] = React.useState(false);\n    const [erropen, setErropen] =  React.useState(false);\n    const collectionRef = collection(database, 'userinfo');\n    const uploadFile = (file) => {\n        if (!file)\n            return;\n\n\n        const storageRef = ref(storage, `/files/${file.name}`);\n        const imageUpload = uploadBytesResumable(storageRef, file);\n\n        imageUpload.on(\"state_changed\", (snapshot) => {\n            const eventprogress = parseInt(snapshot.bytesTransferred * 100 / snapshot.totalBytes);\n            setProgress(eventprogress);\n        }, (err) => { console.log(err); alert(err.message) },\n            () => {\n                getDownloadURL(imageUpload.snapshot.ref).then(url => { console.log(url); setUrl(url); setUploadopen(true); })\n\n            })\n    }\n\n    const handleUpload = (e) => {\n        setUrl(\"\");\n        setProgress(0);\n        e.preventDefault();\n        const file = e.target[0].files[0];\n        console.log(file);\n        uploadFile(file);\n    };\n\n    const handleSubmit = () => {\n\n        if (name.trim().length >= 3 && number.length === 10 && address.trim().length >= 10 && gender !== \"\" && imgurl !== \"\") {\n\n            addDoc(collectionRef, {\n                name: name,\n                gender: gender,\n                url: imgurl,\n                number: number,\n                address: address\n            }).then(() => {\n\n                setOpen(true);\n                setName(\"\");\n                setNumber(\"\");\n                setGender(\"\");\n                setAddress(\"\");\n               \n            }).catch((err) => {\n                alert(err.message);\n            })\n        }\n        else {\n            if (name.trim().length < 3) {\n                setNameerr(true);\n            }\n            if (number.length !== 10) {\n                setNumbererr(true);\n            }\n\n            if (address.trim().length < 10) {\n                setAddresserr(true);\n            }\n            if (gender === \"\") {\n                setGendererr(true);\n            }\n            setErropen(true);\n\n        }\n\n    }\n\n    return (\n\n        <Grid style={{\n            minHeight: '100vh',\n            backgroundColor: 'rgba(0, 100, 100, 0.1)',\n        }}\n            container>\n            <Grid xs={0} md={2} item></Grid>\n            <Grid xs={12} md={8} item>\n                <Paper elevation={8} style={{\n                    marginTop: '5vh',\n                    marginBottom: '5vh',\n                }}>\n                    <div style={{\n                        backgroundColor: 'rgb(2, 91, 150)',\n                        textAlign: 'center',\n                        padding: '10vh',\n                        color: 'white'\n                    }}><Typography variant=\"h2\" >\n                            User Form\n                        </Typography></div>\n                    <Stack spacing={5} direction=\"column\" padding={10}>\n                        <TextField\n                            required\n                            label=\"Name\"\n                            defaultValue=\"\"\n                            inputProps={{ style: {} }}\n                            value={name}\n                            onChange={(e) => { setName(e.target.value); setNameerr(false) }}\n                            helperText=\"Min. 3 characters\"\n                            error={nameerr}\n                        />\n                        <TextField\n                            required\n                            label=\"Number\"\n                            defaultValue=\"\"\n                            type=\"number\"\n                            value={number}\n                            onChange={(e) => { setNumber(e.target.value); setNumbererr((false)) }}\n                            helperText=\"10 digit number\"\n                            error={numbererr}\n                        />\n\n                        <FormControl >\n                            <InputLabel id=\"demo-simple-select-label\">Gender</InputLabel>\n                            <Select\n                                label=\"Gender\"\n                                value={gender}\n                                onChange={(e) => { setGender(e.target.value); setGendererr(false) }}\n                                error={gendererr}\n                            >\n                                <MenuItem value={\"Male\"}>Male</MenuItem>\n                                <MenuItem value={\"Female\"}>Female</MenuItem>\n                                <MenuItem value={\"Other\"}>Other</MenuItem>\n                                <MenuItem value={\"Prefer not to say\"}>Prefer not to say</MenuItem>\n                            </Select>\n                        </FormControl>\n\n                        <TextField\n                            required\n                            label=\"Address\"\n                            multiline\n                            rows={4}\n                            defaultValue=\"\"\n                            variant=\"outlined\"\n                            value={address}\n                            onChange={(e) => { setAddress(e.target.value); setAddresserr(false) }}\n                            helperText=\"Min. 10 characters\"\n                            error={addresserr}\n                        />\n                        <form onSubmit={handleUpload}>\n                            <input accept=\"image/*\" type=\"file\" onClick={() => {\n                                setUrl(\"\");\n                                setProgress(0);\n                            }} />\n                            <Button type=\"submit\" size='small' variant=\"contained\" style={{\n                            backgroundColor: 'rgb(2, 91, 150)'}}>\n                                Upload\n                            </Button>\n                        </form>\n\n                        <Box sx={{ alignItems: 'center', display: 'flex' }}>\n                            <Box sx={{ width: '90%', mr: 1 }}>\n                                <LinearProgress variant=\"determinate\" value={progress} />\n                            </Box>\n                            <Box sx={{ minWidth: 35 }}>\n                                <Typography variant=\"body1\" color=\"text.secondary\">{progress} %</Typography>\n                            </Box>\n                        </Box>\n                        <Grid xs={12} justifyContent='center' container><Button type=\"submit\" variant=\"contained\" style={{\n                            backgroundColor: 'rgb(2, 91, 150)', fontSize: \"20px\", minWidth: \"40vh\"\n                        }} size=\"large\" onClick={handleSubmit}>\n                            Submit\n                        </Button></Grid>\n                    </Stack>\n                    <div style={{\n                        backgroundColor: 'rgb(255, 255, 255)',\n                        padding: '1vh',\n                    }}></div>\n                </Paper>\n            </Grid>\n\n            <Grid xs={0} md={2} item></Grid>\n            <Snackbar open={open} autoHideDuration={4000} onClose={() => setOpen(false)}>\n                <MuiAlert onClose={() => setOpen(false)} elevation={6} variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\n                    Data added successfully\n                </MuiAlert>\n            </Snackbar>\n\n            <Snackbar open={uploadopen} autoHideDuration={4000} onClose={() => setUploadopen(false)}>\n                <MuiAlert onClose={() => setUploadopen(false)} elevation={6} variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\n                    Image Uploaded to Cloud\n                </MuiAlert>\n            </Snackbar>\n\n            <Snackbar open={erropen} autoHideDuration={4000} onClose={() => setErropen(false)}>\n                <MuiAlert onClose={() => setErropen(false)} elevation={6} variant=\"filled\" severity=\"error\" sx={{ width: '100%' }}>\n                    Fill all details / Upload Image\n                </MuiAlert>\n            </Snackbar>\n        </Grid>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}